<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<script src="../js/jquery-3.5.1.min.js"></script>

<script type="text/javascript">
	
	$(function() {
		
		$('input:button').on('click', function() {

			$.ajax({
				url : './member.jsp',
				type : 'get', // method : 'get' 가능
				//data : 
				success : function(res) {
					code = "<table>";
					code += "<tr>"
					code += "<td>아이디</td>" +
							"<td>이름</td>" + 
							"<td>생일</td>" + 
							"<td>주소</td>"+
							"<td>전화번호</td>" +
							"<td>이메일</td>";
					code += "</tr>"
					
					$.each(res, function(i,v) {
						code += "<tr>"
						code += "<td>"+ v.id +"</td>" +
								"<td>"+ v.name +"</td>" + 
								"<td>"+ v.bir +"</td>" + 
								"<td>"+ v.add1 + v.add2+"</td>"+
								"<td>"+ v.hp +"</td>" +
								"<td>"+ v.mail +"</td>";
						code += "</tr>"
					})
					
					code += "</table>"
					
					$('#result1').html(code)
					
				},
				error : function(xhr) {
					alert("상태 : " + xhr.status)	
				},
				dataType : 'json' // text, xml, html
			
			})
			
		})
		
	})

</script>


</head>
<body>

	<div class="box">
		<h3> 1. 맴버리스트 </h3>
		jQuery ajax를 이용한 비동기 처리
		<br><br>
		<input type="button" value="확  인">
		<br><br>
		<div id="result1"></div>
	</div>
</body>
</html>